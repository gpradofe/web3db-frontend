---
slug: /main-db-components/deployment
sidebar_position: 2
---

import CodeBlock from "@theme/CodeBlock";
import Admonition from "@theme/Admonition";

# Deployment

## Deploying Main Database Components

This guide will walk you through the process of deploying the main database components of the QueryAPIKernel solution using Docker Compose. The deployment includes Apache Spark, Apache Hive, IPFS, and other necessary services.

## Prerequisites

Before proceeding with the deployment, ensure that you have the following prerequisites installed on your system:

- Docker: [Install Docker](https://docs.docker.com/get-docker/)
- Docker Compose: [Install Docker Compose](https://docs.docker.com/compose/install/)

## Deployment Steps

1. Clone the QueryAPIKernel repository by running the following command:

   ```bash
   git clone https://github.com/gpradofe/web3db-backend.git
   ```

   Alternatively, you can download the source code directly from the repository's [GitHub page](https://github.com/your-repo-url).

2. Navigate to the root directory of the cloned/downloaded repository.

   ```bash
   cd QueryAPIKernel

   ```

3. Verify that the `docker-compose.yml` file exists in the root directory. This file contains the configuration for all the necessary services.

4. Open a terminal and navigate to the root directory of the repository.

5. Run the following command to start the containers:

   ```bash
   docker-compose up -d
   ```

   This command will build and start all the containers defined in the `docker-compose.yml` file.

6. Wait for the containers to start up. You can check the status of the containers using the following command:

   ```bash
   docker-compose ps
   ```

   Ensure that all the containers are in the "Up" state before proceeding.

7. Initialize the Hive server by executing the following commands:

   ```bash
   docker exec -it hive-server bash ./hiveserver2
   ```

   This will start the Hive server within the `hive-server` container.

<Admonition type="success">
  Congratulations! You have successfully deployed the main database components
  of the QueryAPIKernel solution using Docker Compose. The Apache Spark, Apache
  Hive, IPFS, and other services are now up and running.
</Admonition>

## Verifying the Deployment

To verify that the deployment is successful and the nodes are running properly, you can perform the following checks:

1. Access the IPFS Web UI by opening a web browser and navigating to `http://localhost:8080`. You should see the IPFS dashboard.

2. Access the Apache Spark Web UI by opening a web browser and navigating to `http://localhost:8082`. You should see the Spark Master dashboard.

3. Access the Apache Hive Web UI by opening a web browser and navigating to `http://localhost:10002`. You should see the Hive Web UI.

4. Run a sample Spark job to ensure that Spark is functioning correctly. You can use the Spark shell or submit a Spark application.

5. Execute a sample Hive query to verify that Hive is working as expected. You can use the Hive CLI or connect to Hive using a Hive client.

If you encounter any issues during the deployment or while verifying the nodes, refer to the Troubleshooting section below.

## Troubleshooting

If you face any problems during the deployment process or while verifying the nodes, consider the following troubleshooting steps:

- Ensure that Docker and Docker Compose are properly installed on your system.
- Verify that the `docker-compose.yml` file is correctly formatted and contains the required services and configurations.
- Check the logs of the containers using the `docker-compose logs` command to identify any error messages or warnings.
- Ensure that the necessary ports are available and not being used by other applications.
- Consult the official documentation of the respective technologies (Apache Spark, Apache Hive, IPFS) for technology-specific troubleshooting guides.

If you need further assistance, please reach out to our support team or consult the community forums for additional help.

## Conclusion

By following this deployment guide, you should have successfully deployed the main database components of the QueryAPIKernel solution using Docker Compose. The deployed system includes Apache Spark, Apache Hive, IPFS, and other necessary services.

Remember to regularly monitor the health and performance of the deployed components and ensure that they are running smoothly. If you encounter any issues or have further questions, don't hesitate to refer to the provided troubleshooting steps or seek assistance from the support team.

Happy deploying!
